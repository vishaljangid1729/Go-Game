<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        #player_info{
            font-size: 1.2em;
            float: right;


        }
    
    </style>



</head>
<body>
    <canvas id="grid" width="700" height="700"></canvas>
    <div id="player_info">
        <p style="display: inline">Player 1: </p> <p id="player_1" style="display: inline"> {{ p1 }}</p><br><br>
        <p style="display: inline">Player 2: </p> <p id="player_2" style="display: inline"> {{ p2 }}</p><br><br>
        <h3 style="display: inline" >Turn : </h3> <h3 id="turn" style="display: inline"> </h3>
        
    </div>
    



    <script>
        const canvas = document.getElementById('grid');
        const ctx = canvas.getContext('2d');
        for(i=1;i<=20;i++){
            ctx.beginPath();
            ctx.moveTo(35*i, 35);
            ctx.lineTo(35*i, 700);
            ctx.stroke();
        }
        for(i=1;i<=20;i++){
            ctx.beginPath();
            ctx.moveTo(35, 35*i);
            ctx.lineTo(700, 35*i);
            ctx.stroke();
        }
        // ctx.beginPath();
        // ctx.moveTo(10, 10);
        // ctx.lineTo(10, 700);
                // ctx.stroke();
        var turn = document.getElementById('turn');
        var player_1 = document.getElementById('player_1');
        var player_2 = document.getElementById('player_2');
        console.log(player_1.innerText);
        turn.innerText = player_1.innerText;


        

        canvas.addEventListener('click', function(e){
            x = Math.floor(e.offsetX/35);
            y = Math.floor(e.offsetY/35);
            console.log(x);
            console.log(y);
            if(all_boxes[[x,y]] == false){
                
                if(turn.innerText == player_1.innerText){
                    draw_circle(x,y, 0);
                    which_player[[x,y]] = 1;
                    all_boxes[[x,y]] = true;
                    turn.innerText = player_2.innerText;
                }
                else{
                    draw_circle(x,y, 1);
                    all_boxes[[x,y]] = true;
                    which_player[[x,y]] = 2;
                    turn.innerText = player_1.innerText;
                }
                console.log("draw success");
            }
            else{
                console.log("can't draw");
                return;
            }
        0
            
            
            // ctx.stroke();
            // console.log(getCordinate(e.offsetX, e.offsetY));
        });
        function draw_circle(x, y, color){
            ctx.beginPath();
            ctx.arc(35*x+17.5, 35*y+17.5, 15, 0 , 3*Math.PI);
            if(color == 0){
                ctx.fillStyle = 'rgb(250, 50 , 50)';
            }
            else{
                ctx.fillStyle = 'rgb(50, 50, 252)';
            }
            // ctx.fillStyle = color;
            ctx.fill();
        }
        // var cordinate = {
            // x: 0,
            // y: 0
        // }

        // function getCordinate(x_offset, y_offset){
            // var cor = new cordinate();
            // cor.x = x_offset/35;
            // cor.y = y_offset/35;
            // return cor;

            
        // }
        
        var all_boxes = [];
        var which_player = [];
        for(i=1;i<20;i++){
            for(j=1;j<20;j++){
                all_boxes[[i,j]] = false;
                which_player[[i,j]] = 0;

            }
        }
        
        // console.log(player_1.innerText);
        // console.log(player_2.innerText);
       
        
        
    </script>

</body>
</html>